{
  "_format": "hh-sol-artifact-1",
  "contractName": "RoyaltyManager",
  "sourceName": "contracts/RoyaltyManager.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_registry",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "InsufficientRoyalties",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotAuthorized",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TransferFailed",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "developer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "RoyaltyAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "initialRate",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "decayFactor",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "decayPeriod",
          "type": "uint256"
        }
      ],
      "name": "RoyaltyParametersUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "developer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "RoyaltyWithdrawn",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "repository",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "softwareId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "SaleMade",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "repository",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "softwareId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "publishTime",
          "type": "uint256"
        }
      ],
      "name": "SoftwarePublished",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "developer",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "addRoyalties",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "developer",
          "type": "address"
        }
      ],
      "name": "getPendingRoyalties",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "pendingRoyalties",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "developer",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "repository",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "softwareId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "recordSale",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "softwarePublishTime",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_initialRate",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_decayFactor",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_decayPeriod",
          "type": "uint256"
        }
      ],
      "name": "updateRoyaltyParameters",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "withdrawRoyalties",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60c060405234801561001057600080fd5b506040516107d23803806107d283398101604081905261002f91610089565b336080526001600160a01b03811660a05260408051600a8152605f602082015262278d008183015290517f93a30136aae1c03168149ad89c17916bf87e42510e99641ddf9d6e11234af9c19181900360600190a1506100b9565b60006020828403121561009b57600080fd5b81516001600160a01b03811681146100b257600080fd5b9392505050565b60805160a0516106ed6100e5600039600061026401526000818161046401526104f301526106ed6000f3fe6080604052600436106100705760003560e01c806322964af91161004e57806322964af91461010c5780639a2fa9bb1461011f578063bce7b0301461014c578063ea0cf9a01461016c57600080fd5b8063024fa0d61461007557806308f2da85146100bd57806321c34fcb146100f5575b600080fd5b34801561008157600080fd5b506100ab6100903660046105b1565b6001600160a01b031660009081526020819052604090205490565b60405190815260200160405180910390f35b3480156100c957600080fd5b506100ab6100d83660046105d5565b600160209081526000928352604080842090915290825290205481565b34801561010157600080fd5b5061010a61017f565b005b61010a61011a366004610601565b610262565b34801561012b57600080fd5b506100ab61013a3660046105b1565b60006020819052908152604090205481565b34801561015857600080fd5b5061010a610167366004610647565b610459565b61010a61017a3660046105d5565b6104e8565b33600090815260208190526040812054908190036101b05760405163a844960960e01b815260040160405180910390fd5b336000818152602081905260408082208290555190919083908381818185875af1925050503d8060008114610201576040519150601f19603f3d011682016040523d82523d6000602084013e610206565b606091505b5050905080610228576040516312171d8360e31b815260040160405180910390fd5b60405182815233907f9c56d4e207b08f0df71c47be77f4558c7954505688b8f5372c828ed167846e40906020015b60405180910390a25050565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316630d21bcd56040518163ffffffff1660e01b8152600401602060405180830381865afa1580156102c0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102e49190610673565b6001600160a01b0316336001600160a01b0316146103155760405163ea8e4eb560e01b815260040160405180910390fd5b6001600160a01b0383166000908152600160209081526040808320858452909152812054908190036103a257506001600160a01b0383166000818152600160209081526040808320868452825291829020429081905591518281529192859290917fdf56f2f27826d2cd8261b4e3db31dd34e9144d75dbd025f377f4e8ad296fca25910160405180910390a35b6040805183815242602082015284916001600160a01b038716917f1fe2676d3fb5db35fe57bc07eb1a115f73987b40048ec0965764cce5e989a75a910160405180910390a36001600160a01b0385166000908152602081905260408120805434929061040f908490610690565b90915550506040513481526001600160a01b038616907f4815a443b3844e28d56b6a4a5f8a561f0b349b6dd58953295aaec7b5d5a55e459060200160405180910390a25050505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104a25760405163ea8e4eb560e01b815260040160405180910390fd5b60408051848152602081018490529081018290527f93a30136aae1c03168149ad89c17916bf87e42510e99641ddf9d6e11234af9c19060600160405180910390a1505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146105315760405163ea8e4eb560e01b815260040160405180910390fd5b6001600160a01b03821660009081526020819052604081208054839290610559908490610690565b90915550506040518181526001600160a01b038316907f4815a443b3844e28d56b6a4a5f8a561f0b349b6dd58953295aaec7b5d5a55e4590602001610256565b6001600160a01b03811681146105ae57600080fd5b50565b6000602082840312156105c357600080fd5b81356105ce81610599565b9392505050565b600080604083850312156105e857600080fd5b82356105f381610599565b946020939093013593505050565b6000806000806080858703121561061757600080fd5b843561062281610599565b9350602085013561063281610599565b93969395505050506040820135916060013590565b60008060006060848603121561065c57600080fd5b505081359360208301359350604090920135919050565b60006020828403121561068557600080fd5b81516105ce81610599565b808201808211156106b157634e487b7160e01b600052601160045260246000fd5b9291505056fea2646970667358221220f23080fa5d03870933388998470d89937362a508333734d0930e315c0fc7d4ef64736f6c634300081c0033",
  "deployedBytecode": "0x6080604052600436106100705760003560e01c806322964af91161004e57806322964af91461010c5780639a2fa9bb1461011f578063bce7b0301461014c578063ea0cf9a01461016c57600080fd5b8063024fa0d61461007557806308f2da85146100bd57806321c34fcb146100f5575b600080fd5b34801561008157600080fd5b506100ab6100903660046105b1565b6001600160a01b031660009081526020819052604090205490565b60405190815260200160405180910390f35b3480156100c957600080fd5b506100ab6100d83660046105d5565b600160209081526000928352604080842090915290825290205481565b34801561010157600080fd5b5061010a61017f565b005b61010a61011a366004610601565b610262565b34801561012b57600080fd5b506100ab61013a3660046105b1565b60006020819052908152604090205481565b34801561015857600080fd5b5061010a610167366004610647565b610459565b61010a61017a3660046105d5565b6104e8565b33600090815260208190526040812054908190036101b05760405163a844960960e01b815260040160405180910390fd5b336000818152602081905260408082208290555190919083908381818185875af1925050503d8060008114610201576040519150601f19603f3d011682016040523d82523d6000602084013e610206565b606091505b5050905080610228576040516312171d8360e31b815260040160405180910390fd5b60405182815233907f9c56d4e207b08f0df71c47be77f4558c7954505688b8f5372c828ed167846e40906020015b60405180910390a25050565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316630d21bcd56040518163ffffffff1660e01b8152600401602060405180830381865afa1580156102c0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102e49190610673565b6001600160a01b0316336001600160a01b0316146103155760405163ea8e4eb560e01b815260040160405180910390fd5b6001600160a01b0383166000908152600160209081526040808320858452909152812054908190036103a257506001600160a01b0383166000818152600160209081526040808320868452825291829020429081905591518281529192859290917fdf56f2f27826d2cd8261b4e3db31dd34e9144d75dbd025f377f4e8ad296fca25910160405180910390a35b6040805183815242602082015284916001600160a01b038716917f1fe2676d3fb5db35fe57bc07eb1a115f73987b40048ec0965764cce5e989a75a910160405180910390a36001600160a01b0385166000908152602081905260408120805434929061040f908490610690565b90915550506040513481526001600160a01b038616907f4815a443b3844e28d56b6a4a5f8a561f0b349b6dd58953295aaec7b5d5a55e459060200160405180910390a25050505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104a25760405163ea8e4eb560e01b815260040160405180910390fd5b60408051848152602081018490529081018290527f93a30136aae1c03168149ad89c17916bf87e42510e99641ddf9d6e11234af9c19060600160405180910390a1505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146105315760405163ea8e4eb560e01b815260040160405180910390fd5b6001600160a01b03821660009081526020819052604081208054839290610559908490610690565b90915550506040518181526001600160a01b038316907f4815a443b3844e28d56b6a4a5f8a561f0b349b6dd58953295aaec7b5d5a55e4590602001610256565b6001600160a01b03811681146105ae57600080fd5b50565b6000602082840312156105c357600080fd5b81356105ce81610599565b9392505050565b600080604083850312156105e857600080fd5b82356105f381610599565b946020939093013593505050565b6000806000806080858703121561061757600080fd5b843561062281610599565b9350602085013561063281610599565b93969395505050506040820135916060013590565b60008060006060848603121561065c57600080fd5b505081359360208301359350604090920135919050565b60006020828403121561068557600080fd5b81516105ce81610599565b808201808211156106b157634e487b7160e01b600052601160045260246000fd5b9291505056fea2646970667358221220f23080fa5d03870933388998470d89937362a508333734d0930e315c0fc7d4ef64736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
